<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Tectonic Typesetting System</title>
        
        <meta name="robots" content="noindex" />
        
        


        <!-- Custom HTML head -->
        


        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="A manual for the Tectonic typesetting system">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        
        <link rel="icon" href="favicon.svg">
        
        
        <link rel="shortcut icon" href="favicon.png">
        
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        
        <link rel="stylesheet" href="fonts/fonts.css">
        

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        

        
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Overview</a></li><li class="chapter-item expanded "><a href="introduction/index.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item expanded "><a href="getting-started/index.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li class="chapter-item expanded "><a href="cli/index.html"><strong aria-hidden="true">3.</strong> Tectonic’s Command Line Interface</a></li><li class="chapter-item expanded "><a href="lang-impl/index.html"><strong aria-hidden="true">4.</strong> The Tectonic Implementation of the TeX Language</a></li><li class="chapter-item expanded "><a href="cookbook/index.html"><strong aria-hidden="true">5.</strong> Cookbook</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                        
                    </div>

                    <h1 class="menu-title">The Tectonic Typesetting System</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        
                        <a href="https://github.com/tectonic-typesetting/tectonic" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        
                    </div>
                </div>

                
                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" name="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1><a class="header" href="#the-tectonic-typesetting-system" id="the-tectonic-typesetting-system">The Tectonic Typesetting System</a></h1>
<p>Tectonic is a modernized, complete, self-contained
<a href="https://en.wikipedia.org/wiki/TeX">TeX</a>/<a href="https://www.latex-project.org/">LaTeX</a>
engine, powered by <a href="http://xetex.sourceforge.net/">XeTeX</a> and
<a href="https://www.tug.org/texlive/">TeXLive</a>. This book aims to document the core
elements of the Tectonic software system.</p>
<p>Without further ado, we suggest you start with the <a href="./introduction/index.html">Introduction</a>!</p>
<h2><a class="header" href="#contributions-are-welcome" id="contributions-are-welcome">Contributions are welcome!</a></h2>
<p>This book is, clearly, a work in progress! Contributions of any kind are most
welcome — please see the discussion in
<a href="https://github.com/tectonic-typesetting/tectonic/issues/62">GitHub issue #62</a>
for some ideas of things that should be documented here.</p>
<p>The documentation is written in <a href="https://commonmark.org/">Markdown</a> (specifically, CommonMark using
<a href="https://crates.io/crates/pulldown-cmark">pulldown-cmark</a>) and rendered into HTML using <a href="https://rust-lang-nursery.github.io/mdBook/">mdbook</a>. The source code lives
in the <code>docs/</code> subdirectory of <a href="https://github.com/tectonic-typesetting/tectonic">the main tectonic repository</a>. To make and view
changes, all you need to do is <a href="https://github.com/rust-lang-nursery/mdBook#installation">install mdbook</a>, then run the command:</p>
<pre><code class="language-sh">$ mdbook serve
</code></pre>
<p>in the <code>docs/</code> directory.</p>
<p>Members of the Tectonic community are eager to help if you run into any issues —
please launch a thread on <a href="https://tectonic.newton.cx/">the Tectonic forum</a> if you’d like to get involved!</p>
<h1><a class="header" href="#introduction" id="introduction">Introduction</a></h1>
<p>This book describes the Tectonic typesetting system. The goal of the Tectonic
project is to empower people to create beautiful, effective technical
documents.</p>
<h2><a class="header" href="#technical-documents" id="technical-documents">Technical documents</a></h2>
<p>What do we mean by “technical documents”? While the Tectonic project seeks to
cast its net as widely as possible, common examples might be software manuals,
scientific papers, or analytical reports. What features do such documents
include that traditional authoring frameworks have trouble supporting?</p>
<ul>
<li><strong>Mathematics</strong>. Any kind of mathematical typesetting is challenging.
<em>Beautiful</em> mathematical typesetting is <em>extremely hard</em> and requires deep
integration with the overall typesetting system.</li>
<li><strong>Abundant cross-references</strong>. Technical documents often involve extensive
internal and external cross-references (links), and managing such links is a
nightmare without extremely good tooling support.</li>
<li><strong>Rich content</strong>. Technical documents also generally include a great deal of
rich content beyond their text, such as figures, tables, and code. In the
best documents, this content is seamlessly integrated into the document
presentation, with precise author control over that presentation.</li>
<li><strong>Integrated computation</strong>. In the 21st century, it is finally possible to
integrate computation — runnable code samples, interactive graphics,
live-updating data, and so on — into documents, and it is becoming clear
that this is new capability is not just evolutionary, but revolutionary.</li>
<li><strong>Hackability</strong>. Finally, we also believe that technical documents should
ideally be “hackable,” meaning that people should be able to see how they
work “under the hood” and use them as a basis for their own creations.</li>
</ul>
<h2><a class="header" href="#tectonic-and-tex" id="tectonic-and-tex">Tectonic and TeX</a></h2>
<p>At the core of Tectonic is a modernized, complete, self-contained
<a href="https://en.wikipedia.org/wiki/TeX">TeX</a>/<a href="https://www.latex-project.org/">LaTeX</a> engine, powered by <a href="http://xetex.sourceforge.net/">XeTeX</a> and <a href="https://www.tug.org/texlive/">TeXLive</a>.</p>
<p>For those new to it, <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> is a programming language. While most programming
languages create software, <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> creates typeset documents. <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> is quite
archaic in some ways, but in many fields it’s still the tool of choice for
authoring the kinds of documents described above.</p>
<ul>
<li><a href="https://en.wikipedia.org/wiki/TeX">TeX</a> is absolutely unparalleled in its ability to typeset math. Workers in
virtually every mathematics-heavy field use <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> to create documents.</li>
<li>The <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> ecosystem provides infrastructure for deep and rich
cross-referencing with programs like <a href="http://www.bibtex.org/">bibtex</a>.</li>
<li>Another hallmark of the <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> ecosystem is longstanding support for complex
figures, tables, and other forms of rich content included in the document.</li>
<li>Because <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> is a programming language for creating documents, <a href="https://en.wikipedia.org/wiki/TeX">TeX</a>-based
documents can be hackable in exactly the same way as the open-source
programs that underly so much of the modern software ecosystem.</li>
</ul>
<p>The fundamental principle underlying the Tectonic project is that <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> is,
and can continue to be, the best language out there for creating the
beautiful, effective technical documents that the world deserves. The <a href="https://en.wikipedia.org/wiki/TeX">TeX</a>
language is an amazingly clever piece of engineering, and the fact that it’s
still in use 40 years (!) after its creation speaks for itself. But by the
same token, there is a <em>lot</em> about the <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> software ecosystem that is
archaic and outdated. The goal of Tectonic is to build on the good stuff and
leave behind the things that don’t make sense anymore.</p>
<p>In particular, Tectonic is derived from the source code that powers the
<a href="http://xetex.sourceforge.net/">XeTeX</a> engine, and the bulk of its code is the same core engine that
implements the complex, Unicode-aware typesetting performed by <a href="http://xetex.sourceforge.net/">XeTeX</a>.
Tectonic provides both a new user experience around that engine, and several
key interventions that enable the engine to be used in fundamentally new ways.</p>
<h2><a class="header" href="#the-goals-of-tectonic" id="the-goals-of-tectonic">The goals of Tectonic</a></h2>
<p>As stated above, the overall goal of the Tectonic project is to enable people
to create beautiful, effective technical documents. In particular, there are
several elements of the existing <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> ecosystem that Tectonic aims to improve
upon:</p>
<ul>
<li><em>User experience</em>. Many aspects of the classic <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> user experience (UX)
are bizarre and unpleasant to modern users. In particular, its error
messages and diagnostic output can be utterly mystifying. Tectonic chooses
to break compatibility with classic <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> when doing so offers the chance to
improve the UX.</li>
<li><em>Embeddability</em>. The modern <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> software system consists of a suite of
interacting command-line programs modifying a complex tree of thousands of
support files. This makes it extremely unpleasant to embed the <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> engine
within other software systems, which prevents a whole host of exciting use
cases. Tectonic delivers its engine as a reusable software library and aims
to make that library easy to embed and reuse anywhere code can run.</li>
<li><em>Reproducibility</em>. For the same reasons that the classic <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> experience is
difficult to embed, it is difficult to guarantee reproducible document
builds. For many technical documents, reproducibility is a highly-respected
virtue if not an outright requirement. Tectonic aims to enable easy,
byte-for-byte reproducible builds.</li>
<li><em>Web output</em>. Modern displays and Web browsers are incredibly powerful,
versatile tools. One of the motivations for the founding of the Tectonic
project was the belief that current Web-based technical documents are
falling far short of what should be possible, and the belief that some
changes in the core <a href="https://en.wikipedia.org/wiki/TeX">TeX</a> engine are necessary to fully unlock its ability
to produce excellent Web-based output.</li>
</ul>
<h1><a class="header" href="#getting-started" id="getting-started">Getting Started</a></h1>
<p>TODO: installation; quick demonstration of how Tectonic is different from traditional TeX engines.</p>
<h1><a class="header" href="#tectonics-command-line-interface" id="tectonics-command-line-interface">Tectonic's Command Line Interface</a></h1>
<p>Tectonic has many command line options.
If you have Tectonic installed, you can view them with <code>tectonic --help</code>.</p>
<p>The following are the available flags.</p>
<table><thead><tr><th align="left">Short</th><th align="left">Full</th><th align="left">Explanation</th></tr></thead><tbody>
<tr><td align="left"><code>-h</code></td><td align="left"><code>--help</code></td><td align="left">Prints help information</td></tr>
<tr><td align="left"><code>-k</code></td><td align="left"><code>--keep-intermediates</code></td><td align="left">Keep the intermediate files generated during processing</td></tr>
<tr><td align="left"></td><td align="left"><code>--keep-logs</code></td><td align="left">Keep the log files generated during processing</td></tr>
<tr><td align="left"><code>-C</code></td><td align="left"><code>--only-cached</code></td><td align="left">Use only resource files cached locally</td></tr>
<tr><td align="left"><code>-p</code></td><td align="left"><code>--print</code></td><td align="left">Print the engine's chatter during processing</td></tr>
<tr><td align="left"></td><td align="left"><code>--synctex</code></td><td align="left">Generate SyncTeX data</td></tr>
<tr><td align="left"><code>-V</code></td><td align="left"><code>--version</code></td><td align="left">Prints version information</td></tr>
</tbody></table>
<p>The following are the available options.</p>
<table><thead><tr><th align="left">Short</th><th align="left">Full</th><th align="left">Explanation</th></tr></thead><tbody>
<tr><td align="left"><code>-b</code></td><td align="left"><code>--bundle &lt;PATH&gt;</code></td><td align="left">Use this Zip-format bundle file to find resource files instead of the default</td></tr>
<tr><td align="left"><code>-c</code></td><td align="left"><code>--chatter &lt;LEVEL&gt;</code></td><td align="left">How much chatter to print when running [default: default]  [possible values: default, minimal]</td></tr>
<tr><td align="left"></td><td align="left"><code>--format &lt;PATH&gt;</code></td><td align="left">The name of the &quot;format&quot; file used to initialize the TeX engine [default: latex]</td></tr>
<tr><td align="left"></td><td align="left"><code>--hide &lt;PATH&gt;...</code></td><td align="left">Tell the engine that no file at <PATH> exists, if it tries to read it</td></tr>
<tr><td align="left"></td><td align="left"><code>--makefile-rules &lt;PATH&gt;</code></td><td align="left">Write Makefile-format rules expressing the dependencies of this run to <PATH></td></tr>
<tr><td align="left"><code>-o</code></td><td align="left"><code>--outdir &lt;OUTDIR&gt;</code></td><td align="left">The directory in which to place output files [default: the directory containing INPUT]</td></tr>
<tr><td align="left"></td><td align="left"><code>--outfmt &lt;FORMAT&gt;</code></td><td align="left">The kind of output to generate [default: pdf]  [possible values: pdf, html, xdv, aux, format]</td></tr>
<tr><td align="left"></td><td align="left"><code>--pass &lt;PASS&gt;</code></td><td align="left">Which engines to run [default: default]  [possible values: default, tex, bibtex_first]</td></tr>
<tr><td align="left"><code>-r</code></td><td align="left"><code>--reruns &lt;COUNT&gt;</code></td><td align="left">Rerun the TeX engine exactly this many times after the first</td></tr>
<tr><td align="left"><code>-w</code></td><td align="left"><code>--web-bundle &lt;URL&gt;</code></td><td align="left">Use this URL find resource files instead of the default</td></tr>
</tbody></table>
<p>If you specify a path, make sure to put it into brackets when it contains spaces.</p>
<p>Then, after specifying flags and options, you have to provide the actual input to tectonic.
This can be a (path to a) file, or &quot;-&quot; to process the standard input stream.</p>
<p>In short, the usage is <code>tectonic [FLAGS] [OPTIONS] &lt;INPUT&gt;</code>.</p>
<p>An example would be <code>tectonic --synctex --reruns 0 -o ../out/ main.tex</code>.</p>
<h1><a class="header" href="#the-tectonic-implementation-of-the-tex-language" id="the-tectonic-implementation-of-the-tex-language">The Tectonic Implementation of the TeX Language</a></h1>
<p>TODO: links to TeX language guides</p>
<p>TODO: document customizations, e.g. <code>\TectonicCodaTokens</code>.</p>
<h1><a class="header" href="#cookbook" id="cookbook">Cookbook</a></h1>
<p>This section is a miscellaneous collection of tutorials and tips for working with and installing Tectonic.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        

                        

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                

                
            </nav>

        </div>

        

        

        

        
        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        

        

        
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        

        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        

        
        
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
        
        

    </body>
</html>
